# 클린 코드

오류 처리는 프로그램에 반드시 필요한 요소 중 하나이다. 뭔가 잘못된 가능성은 늘 존재한다. 잘못된 것을 바로잡을 책임은 프로그래머에게 있다.

여기저기 흩어진 오류 처리 코드 떄문에 실제 코드가 하는 일을 파악하는데 어려운 경우가 있다. 이는 올바른 오류 처리가 아니다.
오류 처리는 중요하지만 오류 처리 코드로 인해 프로그램의 로직을 파악하기가 어려워진다면 깨끗한 코드라 부르기 어렵다.

## 오류 코드 보다는 예외

분기를 사용하여 오류를 사용하는 방식을 사용하면 호출자 코드가 복잡해진다. 함수를 호출할 때 오류를 확인해야 하기 떄문이다.
따라서 오류가 발생하면 예외를 던지는 편이 낫다. **논리가 오류 처리 코드와 뒤섞이지 않기 떄문이다.**

## try-catch-finally 문부터 작성하라

예외에서 프로그램 안에다가 범위를 정의한다는 사실은 흥미롭다. try-catch 문에서 try 블록에 들어가는 코드를 실행하면 어느 시점에서든 실행이 중단된 후 catch 블록으로 넘어갈 수 있다.
try 블록은 트랜잭션과 유사하다. try 블록에서 무슨 일이 생기던 catch 블록은 프로그램 상태를 **일관성** 있게 유지해야 한다.

먼저 강제로 예외를 일으키는 테스트 케이스를 작성한 후 테스트를 통과하게 하는 코드를 작성하는 방법을 권장한다. 이렇게 한다면 try 블록의 트랜잭션 범위부터 구현하게 되기 떄문이다.

## javascript에서의 에러

`throw` 문을 통해서 예외를 던질 수 있고, `try..catch`문을 사용해서 예외를 처리할 수 있다. 숫자나 문자열을 오류로 던지는 경우도 많지만, 사전에 정의된 예외 유형을 쓰는 것이 더 효과적이다.

### Error 객체

`new Error(message, fileName, lineNumber)` 모든 인수는 optional이다. new 키워드를 생략해도 동일한 결과를 출력한다.

### 특정 오류 처리하기

오류의 constructor 속성을 사용해서 유형을 판별하거나 특정 종류의 오류만 처리할 수 있다. `instanceof` 키워드를 이용할 수 있다.

```
try {
  foo.bar();
} catch (e) {
  if (e instanceof EvalError) {
    alert(e.name + ": " + e.message);
  } else if (e instanceof RangeError) {
    alert(e.name + ": " + e.message);
  }
  // ... etc
}
```

### 커스텀 에러 클래스 만들기

class 문을 사용하여 Error 클래스를 상속받아와서, 나만의 커스텀 에러 클래스를 만들 수 있다.
특정 프로퍼티를 삽입하는 등의 행위가 가능하며, 특정 프로퍼티 혹은 instanceof 키워드를 통해서 에러를 판별하고 구별하여 처리할 수 있다.

##

내용 추가 예정.
